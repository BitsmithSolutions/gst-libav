2005-02-05  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* configure.ac:
	  Require 0.9.
	* ext/ffmpeg/Makefile.am:
	* ext/ffmpeg/gstffmpeg.c: (plugin_init):
	  Disable protocol, demux, mux, enc.
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_class_init),
	(gst_ffmpegdec_init), (gst_ffmpegdec_setcaps),
	(gst_ffmpegdec_negotiate), (gst_ffmpegdec_frame),
	(gst_ffmpegdec_sink_event), (gst_ffmpegdec_chain),
	(gst_ffmpegdec_register):
	  Port to 0.9.

2005-02-04  Jan Schmidt  <thaytan@mad.scientist.com>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_frame),
	(gst_ffmpegdec_chain), (gst_ffmpegdec_register):
	  Reduce the rank of the mpeg2 decoder back below mpeg2dec
	  Use the parser to reorder pts times. Fixes mpeg playback
	  without changing any other files I tested.
	  Use the repeat_pict flag to correctly set durations

2005-02-02  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_to_codecid):
	  Change caps of MJPEGB to not interfere with MJPEG/JPEG.
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_register):
	  Remove rank for SP5X, no clue what that is...

2005-02-01  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_frame):
	  DonÂ´t SIGFPE right away.

2005-02-01  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	reviewed by: <delete if not using a buddy>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_lowres_get_type),
	(gst_ffmpegdec_skipframe_get_type), (gst_ffmpegdec_class_init),
	(gst_ffmpegdec_init), (gst_ffmpegdec_connect),
	(gst_ffmpegdec_frame), (gst_ffmpegdec_set_property),
	(gst_ffmpegdec_get_property):

2005-01-31  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_lowres_get_type),
	(gst_ffmpegdec_skipframe_get_type), (gst_ffmpegdec_class_init),
	(gst_ffmpegdec_init), (gst_ffmpegdec_connect),
	(gst_ffmpegdec_frame), (gst_ffmpegdec_set_property),
	(gst_ffmpegdec_get_property):
	  Implement B-frame skipping and low-resolution decoding (useful
	  for very slow CPUs).

2005-01-28  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_register):
	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_register):
	  Oops, unbreak audio.

2005-01-28  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_to_codecid):
	  Add AMR mimetypes (since those are recognized in ffmpeg).
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_frame),
	(gst_ffmpegdec_register):
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_register):
	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_register):
	  Register law codecs too, add time debug. Use ANY for template caps
	  since we don't necessarily have available decoders for recognized
	  formats.

2005-01-27  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpeg.c: (plugin_init):
	  Fix compile with debug disabled (#165250).

2005-01-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegprotocol.c: (gst_ffmpegdata_peek):
	  Yet Another Logic Error.

2005-01-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_negotiate):
	  <insert rant about why gcc should support parsing errors>.

2005-01-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_pixfmt_to_caps), (gst_ffmpeg_caps_to_pixfmt):
	  Add extradata to huffyuv, sync RGBA32 up with gst-plugins.
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_query),
	(gst_ffmpegdec_event):
	  Make somewhat clearer.

2005-01-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* TODO:
	  Update since some tasks are done.
	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_formatid_to_caps):
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_type_find):
	  Add correct mimetype for FLI video, restore correct typefind
	  priority.

2005-01-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_connect),
	(gst_ffmpegdec_frame), (gst_ffmpegdec_handle_event),
	(gst_ffmpegdec_chain):
	  More debug, re-fix MPEG-2 (yes, I broke it already!).

2005-01-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_handle_event),
	(gst_ffmpegdec_chain):
	  Another fix for MPEG-4 movies...

2005-01-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_open),
	(gst_ffmpegdec_connect), (gst_ffmpegdec_negotiate),
	(gst_ffmpegdec_frame), (gst_ffmpegdec_handle_event):
	  Add some more debug, fix for B-frame containing XviD movies.

2005-01-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_handle_event):
	  Only flush when the codec is opened.

2005-01-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_to_codecid), (gst_ffmpeg_get_codecid_longname):
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_register):
	  Re-add H263I as intel-h263 (which is not h263-compliant...).
	  Increase rank of mpeg2video since it plays more videos than
	  its gst-plugins counterpart, with no regressions.

2005-01-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_frame):
	  Don't unref NULL data...

2005-01-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_init),
	(gst_ffmpegdec_open), (gst_ffmpegdec_frame),
	(gst_ffmpegdec_handle_event), (gst_ffmpegdec_chain):
	  Add B-frame timestamp smoothing.

2005-01-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_frame),
	(gst_ffmpegdec_chain):
	  Separate buffer handling from actual decoding, handle pending
	  frames (for B-frames and so on) so we catch the last frames
	  before EOS, prepare for some timestamp changes to make playback
	  of movies with B-frames smoother (not done yet).

2005-01-18  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>


	(gst_ffmpegdec_negotiate), (gst_ffmpegdec_chain):
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_init),
	(gst_ffmpegdemux_close), (gst_ffmpegdemux_src_query),
	(gst_ffmpegdemux_loop):
	  Add simple query functions. Seeking is only cosmetic, it's not
	  actually filled in yet (in ffmpegdec).

2005-01-17  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_init),
	(gst_ffmpegenc_link), (gst_ffmpegenc_chain_video):
	  Remove EMU_EDGE, since that really fixes #162905. Revert
	  previous hacks.

2005-01-16  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_chain_video):
	  Unref after encode (#162905).

2005-01-16  Luca Ognibene  <luogni@tin.it>

	Reviewed by:  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_link),
	(gst_ffmpegenc_chain_video):
	  Workaround memory issues (#162905).

2005-01-10  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_type_find):
	  Decrease certainty a bit so we use flxdec for .flx videos.

2005-01-09  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_dispose):
	  Call parent.

2005-01-09  Luca Ognibene  <luogni@tin.it>

	Reviewed by:  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  Disable parsing for MJPEG input since that's already cut at
	  frame-boundaries. Fixes #163340.

2005-01-06  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_to_codecid):
	  Set property incompatible with DV demuxer so that it won't
	  infinitely plug demuxers to each other. Fixes playback of .dv
	  streams in Totem.

2004-12-27  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* configure.ac:
	  Dev.

=== release 0.8.3 === 

2004-12-27  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* NEWS:
	* RELEASE:
	* configure.ac:
	  Release 0.8.3 "Tiny Piece of Plastic".

2004-12-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_register):
	  Don't cripple rank as a hack to not register typefind functions.
	  Instead, just use a boolean for that. This makes ID3-tagged MP3
	  files play even if mad is not installed.

2004-12-20  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_register):
	  Remove rank from ffdec_h263i until I know how it's different
	  from ffdec_h263. Fixes #155163.

2004-12-18  David Schleef  <ds@schleef.org>

	* autogen.sh: execute ffmpeg's autogen.sh directly
	* gst-libs/ext/ffmpeg/autogen.sh: Add a #! line.  Specify bash,
	since there are bashisms ('local').

2004-12-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegprotocol.c: (gst_ffmpegdata_open),
	(gst_ffmpegdata_peek), (gst_ffmpegdata_read),
	(gst_ffmpegdata_write), (gst_ffmpegdata_seek),
	(gst_ffmpegdata_close):
	  Add debug. Don't EOS unless all data was read.

2004-12-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegprotocol.c: (gst_ffmpegdata_peek),
	(gst_ffmpegdata_read), (gst_ffmpegdata_seek):
	  Some "seeking" hacks, and separate peek from read (read = peek +
	  flush) so seek can use peek as well to workaround typefind. With
	  this, I'm able to play several of the gaming format movies in
	  Totem.

2004-12-18  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/Makefile.am:
	* ext/ffmpeg/gstffmpeg.h:
	  Add header.

2004-12-18  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpeg.c:
	* ext/ffmpeg/gstffmpegcodecmap.c:
	* ext/ffmpeg/gstffmpegcodecmap.h:
	* ext/ffmpeg/gstffmpegcolorspace.c:
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	* ext/ffmpeg/gstffmpegdemux.c:
	* ext/ffmpeg/gstffmpegenc.c:
	* ext/ffmpeg/gstffmpegmux.c:
	* ext/ffmpeg/gstffmpegprotocol.c:
	  Add debugging category everywhere (correctly this time). Don't
	  parse mp3 data (the parser is a piece of crap). Fixes #155274
	  mostly. Seeking pending.

2004-12-18  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_formatid_to_caps):
	  Add ID3 mime. Should partially fix #155274 (although raw mp3
	  sounds awful, it doesn't parse correctly in the decoder-only
	  case).

2004-12-17  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c:
	(gst_ffmpeg_get_codecid_longname):
	  Fix typo.

2004-12-17  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  Small parsing fix in comb. with ffdemux_mpeg.

2004-12-17  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_init),
	(gst_ffmpegdec_close), (gst_ffmpegdec_open), (gst_ffmpegdec_chain):
	  Include optional parser if supported (currently only MPEG-1/-2
	  video). This fixes playback of MPEG-1/-2 videos using
	  ffdec_mpeg2video.

2004-12-17  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_base_init),
	(gst_ffmpegenc_init), (gst_ffmpegenc_getcaps),
	(gst_ffmpegenc_link):
	  Move setup of sink caps (accepted formats) to a separate function
	  rather than doing it on initialization.

2004-12-16  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_to_codecid), (gst_ffmpeg_get_codecid_longname),
	(gst_ffmpeg_avpicture_fill):
	  Add new codecIDs from new snapshot (Thu Dec 16 11:27:18 2004).
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_src_event),
	(gst_ffmpegdemux_type_find), (gst_ffmpegdemux_loop):
	* ext/ffmpeg/gstffmpegmux.c: (gst_ffmpegmux_loop):
	  API updates.
	* ext/ffmpeg/gstffmpegprotocol.c: (gst_ffmpegdata_read),
	(gst_ffmpegdata_seek):
	  A slightly smarter approach, but it still needs lost of work to
	  be reliable in any way...

2004-12-16  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_init),
	(gst_ffmpegdec_close), (gst_ffmpegdec_connect),
	(gst_ffmpegdec_negotiate), (gst_ffmpegdec_chain):
	  Move negotiation outside the _chain function, and use the
	  codec PAR if available and prefer it over demuxer PAR (since
	  this is usually the right thing to do). Fixes #159755.

2004-12-16  Sebastien Cote  <sc5@hermes.usherb.ca>

	Reviewed by:  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_pad_link):
	  Fix memleak (#154815).

2004-12-16  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_pad_link),
	(gst_ffmpegcsp_init), (gst_ffmpegcsp_chain),
	(gst_ffmpegcsp_change_state):
	  Some sync with ffmpegcolorspace (flatten AVFrame).

2004-11-05  Wim Taymans  <wim@fluendo.com>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_avpicture_get_size),
	(gst_ffmpeg_avpicture_fill), (gst_ffmpeg_img_convert):
	* ext/ffmpeg/gstffmpegcodecmap.h:
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	Fix strides and plane sizes when dealing with odd sized
	movies.

2004-10-29  Sebastien Cote  <sc5@hermes.usherb.ca>

	Reviewed by:  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  Prevent division by zero (#155212).

2004-10-29  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_avpicture_fill):
	* ext/ffmpeg/gstffmpegcodecmap.h:
	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_chain):
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_get_buffer),
	(gst_ffmpegdec_chain):
	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_chain_video):
	  Sync with gst-plugins ffmpegcolorspace, align-by-4. Ready to
	  re-sync gst-plugins ffmpegcolorspace with ours and deprecate
	  this one.

2004-10-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_pad_link):
	  Backport changes from ffmpegcolorspace (gst-plugins) so we can
	  then move the whole of this plugin back and deprecate this (no,
	  I'm not insane).

2004-10-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_codectype_to_caps), (gst_ffmpeg_caps_with_codecid):
	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_base_init),
	(gst_ffmpegenc_connect), (gst_ffmpegenc_register):
	  Fix encoders. Fix if encoder supports >1 caps.

2004-10-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c:
	(gst_ffmpeg_get_codecid_longname):
	* ext/ffmpeg/gstffmpegcodecmap.h:
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_base_init),
	(gst_ffmpegdec_register):
	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_base_init),
	(gst_ffmpegenc_register):
	  Hmm, fancy names...

2004-10-20  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac: up req of GStreamer since we use fractions

2004-10-11  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* gst-ffmpeg.spec.in:
	  Remove unused 'versioning' variable.

2004-10-11  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_init),
	(gst_ffmpegenc_chain_video):
	  Set chain function before adding pad, fix memleak on error, error
	  out on encode errors because none of subsequent frames will work
	  any better (this is not input dependent).

2004-10-09  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* configure.ac:
	  CVS.

=== release 0.8.2 ===

2004-10-09  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* NEWS:
	* RELEASE:
	* configure.ac:
	  Release 0.8.2.

2004-10-09  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  Unref when not usable.

2004-10-04  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_with_codecid):
	  Negotiation fixes for real video codecs.

2004-10-02  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_loop):
	  Fix timestamps. Quite some of the gaming formats work now. :).

2004-10-02  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_with_codecid), (gst_ffmpeg_caps_to_codecid):
	  Generalized palette functions, add actual mimetypes for wing
	  commander formats.
	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_chain):
	  Ffmpeg has internal palette functions, so I noticed.
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  Actually remove all palette code.

2004-10-02  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_loop):
	  Signal no_more_pads.
	* ext/ffmpeg/gstffmpegprotocol.c: (gst_ffmpegdata_read),
	(gst_ffmpegdata_seek):
	  Handle events.

2004-10-02  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_pixfmt_to_caps),
	(gst_ffmpeg_caps_to_pixfmt):
	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_pad_link),
	(gst_ffmpegcsp_init), (gst_ffmpegcsp_chain),
	(gst_ffmpegcsp_change_state), (gst_ffmpegcsp_register):
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  Move palette handling over from the decoder to the colorspace
	  conversion plugin (where you would expect it).

2004-10-01  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_with_codecid), (gst_ffmpeg_caps_to_codecid):
	  Simplify codec_data handling.

2004-09-23  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  Update timestamp for every new buffer that we output. Improves
	  audio playback for several files that have multiple audio chunks
	  per buffer.

2004-09-22  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_register):
	  msmpeg4v3 should be priority as well, else it will choose divxdec
	  first (which we don't want).

2004-09-20  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_with_codecid):
	  WMV extradata (make #152798 work). J-frames are only available
	  in the bitstream if the J-frame bit has been set in the extradata.
	  If not (or if extradata is not provided), the movie won't play.
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_close),
	(gst_ffmpegdec_connect), (gst_ffmpegdec_chain):
	  Only close ffmpeg if privdata was allocated (else it segfaults).
	  Autodetect encoding bugs and workaround it. Don't copy data if
	  decoding failed.
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_loop):
	  Use read_frame() instead of read_packet() which is obsolete.

2004-09-16 Iain <iaingnome@gmail.com>

	* ext/ffmpeg/gstffmpegmux.c (gst_ffmpegmux_register): Free name fix 
	leak.

2004-07-21  Thomas Vander Stichele  <thomas at apestaart dot org>

	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_chain):
	  no point in doing any chaining if the pad we want to push from
	  isn't usable.


2004-07-21  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac: bump nano

=== gst-ffmpeg 0.8.1 ===

2004-07-16  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac: release 0.8.1, "Just Another Victim"

2004-07-08  Thomas Vander Stichele  <thomas at apestaart dot org>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_base_init):
	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_base_init):
	  d'oh, put them back

2004-07-07  Thomas Vander Stichele  <thomas (at) apestaart (dot) org>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  drop incoming buffers that generate decoding errors

2004-07-07  Thomas Vander Stichele  <thomas (at) apestaart (dot) org>

	* ext/ffmpeg/gstffmpeg.c: (gst_ffmpeg_log_callback), (plugin_init):
	* ext/ffmpeg/gstffmpegcodecmap.h:
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  hook up our debug handler to FFmpeg's.
	  warn about getting negative have_data

2004-07-04  Thomas Vander Stichele  <thomas at apestaart dot org>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_base_init):
	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_base_init):
	  bring category order in line with others

2004-06-13  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_to_codecid):
	* ext/ffmpeg/gstffmpegprotocol.c: (gst_ffmpegdata_read):
	  Do some more random property setting. Fix for if there's less than
	  ffmpeg-default-buffersize (32kB) data in a file _and_ there's an
	  event pending. Partially fixes #142320.

2004-06-06  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpeg.c: (plugin_init):
	  Remove redundant calls which are called internally already.
	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_caps_with_codecid):
	  Indenting...
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_loop),
	(gst_ffmpegdemux_register):
	  Remove typefind functions and rank for demuxers for any demuxer
	  that we already have in GStreamer.

2004-05-18  Benjamin Otte  <in7y118@public.uni-hamburg.de>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_caps_with_codecid):
	  don't operate on undefined variables (fixes #135145)

2004-05-16  Benjamin Otte  <otte@gnome.org>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  Hi, I'm a memleak

2004-05-14  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_src_event),
	(gst_ffmpegdemux_src_query), (gst_ffmpegdemux_src_convert),
	(gst_ffmpegdemux_open), (gst_ffmpegdemux_loop):
	* ext/ffmpeg/gstffmpegprotocol.c: (gst_ffmpegdata_open),
	(gst_ffmpegdata_read), (gst_ffmpegdata_write),
	(gst_ffmpegdata_seek):
	  Fix up demuxer. Works now for all my files that I tried, even
	  quicktime. I basically hack around the super-oversimplistic file
	  I/O handling in ffmpeg in several ways together, and I also hack
	  around the fairly annoying EOS-will-pause-the-source-element in
	  GStreamer itself.
	  This code is not pretty.

2004-05-11  Jeremy Simon  <jesimon@libertysurf.fr>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_with_codecid):
	 block_align and bitrate caps property were lost for wma
	 use codec_data instead of flag1 and flag2

2004-05-11  Benjamin Otte  <in7y118@public.uni-hamburg.de>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_formatid_to_caps):
	  it's audio/x-wav, not video/x-wav

2004-05-10  Stephane Loeuillet <stephane.loeuillet@tiscali.fr>

	* ext/ffmpeg/gstffmpegdec.c
	* ext/ffmpeg/gstffmpegenc.c
		change plugins category to meet our new standard :
			Codec/Encoder|Decoder/Audio|Video
		suggested by bilboed, approved by Company

2004-05-04  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/autogen.sh:
	* gst-libs/ext/ffmpeg/patches/autotools.patch:
          require am17 since AM_CONDITIONAL's are being done using variables
          which doesn't work with am16

2004-04-30  Thomas Vander Stichele  <thomas at apestaart dot org>

	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_getcaps):
          revert previous patch

2004-04-29  Thomas Vander Stichele  <thomas at apestaart dot org>

	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_getcaps):
          use GST_PAD_CAPS if they exist so we don't renegotiate needlessly

2004-04-22  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_caps_with_codecid), (gst_ffmpeg_caps_to_codecid):
	  WAV/IMA-ADPCM -> DVI ADPCM.

2004-04-22  Benjamin Otte  <otte@gnome.org>

	* ext/ffmpeg/gstffmpegcolorspace.c:
	(gst_ffmpegcsp_caps_remove_format_info):
	  use gst_caps_do_simplify

2004-04-19  Benjamin Otte  <otte@gnome.org>

	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_type_find):
	  reduce maximum probability in typefinding to POSSIBLE. prevents
	  misidentification of my mp3s as video/mpeg

2004-04-15  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_chain):
	  NULL -> (NULL) inside GST_ELEMENT_ERROR().

2004-04-15  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_get_palette),
	(gst_ffmpeg_set_palette), (gst_ffmpeg_codecid_to_caps),
	(gst_ffmpeg_pixfmt_to_caps), (gst_ffmpeg_caps_to_smpfmt),
	(gst_ffmpeg_caps_to_pixfmt), (gst_ffmpeg_caps_with_codectype),
	(gst_ffmpeg_caps_with_codecid), (gst_ffmpeg_caps_to_codecid):
	* ext/ffmpeg/gstffmpegcodecmap.h:
	  Change some function names to reflect that they don't really
	  _return_ something, but rather _use_ something to fill a
	  AVCodecContext. s/to/with/. Restructure the extradata handling,
	  it's now not picking up the type from the caps but rather
	  using the type as provided in the function. This is a lot
	  cleaner. Implement MS RLE palette pickup.
	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_pad_link):
	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_connect):
	  Sync with the above function name changes.
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_close),
	(gst_ffmpegdec_open), (gst_ffmpegdec_connect),
	(gst_ffmpegdec_chain), (gst_ffmpegdec_change_state):
	  Add some hacks to convert palette-based raw image formats to
	  RGBA32. Ugly, but I don't know how else to handle palette-based
	  RGB, since img_convert() (and thus ffcolorspace) doesn't accept
	  a palette as argument.

2004-04-14  Thomas Vander Stichele  <thomas at apestaart dot org>

	* everything: updated upstream source to 2004-04-11 23:00 GMT
	  and fixed up patches

2004-04-11  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps):
	  Add MS Video v1 (video/x-msvideocodec, CODEC_ID_MSVIDEO1).

2004-04-08  David Schleef  <ds@schleef.org>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps):
	Change variadic macro to ISO form.  (bug #139460)

2004-04-06  Benjamin Otte  <otte@gnome.org>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_register):
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_register):
	  fix memleaks

2004-04-05  Benjamin Otte  <otte@gnome.org>

	* configure.ac:
	  fix --export-symblos-regex to a working regex.

2004-04-03  Tim-Philipp MÃ¼ller <t.i.m@zen.co.uk>

	reviewed by: David Schleef  <ds@schleef.org>

	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_register):  Fix
	memleaks (bug #138985)

2004-03-29  Thomas Vander Stichele  <thomas at apestaart dot org>

	* ext/ffmpeg/*.c: indent

2004-03-25  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_base_init):
	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_base_init):
	  Fix category.
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_class_init),
	(gst_ffmpegdemux_init), (gst_ffmpegdemux_close):
	  Slightly rewrite the init function, old one was ugly. Also remove
	  dispose function since it's obsolete, the change_state function
	  cleans up already. Also fixes segfault in test-app
	  gstreamer/tests/instantiate/create

2004-03-24  Benjamin Otte  <otte@gnome.org>

	* configure.ac:
	  only export gst* symbols
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain):
	  change g_warning to debugging message, that wasn't a programming
	  error

2004-03-18  Thomas Vander Stichele  <thomas at apestaart dot org>

	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_chain):
	  don't critical, throw error (#137588)

2004-03-16  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac: bump nano to 1

=== gst-ffmpeg 0.8.0 ===

2004-03-16  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac: release 0.8.0, "In Buildings"

2004-03-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/.pc/cvsignore/doc/.cvsignore:
	* gst-libs/ext/ffmpeg/.pc/cvsignore/libavcodec/i386/.cvsignore:
	* gst-libs/ext/ffmpeg/configure:
	* gst-libs/ext/ffmpeg/libavformat/matroska.c: (ebml_read_float):
	* gst-libs/ext/ffmpeg/patches/matroska.patch:
          patch from Ronald to work on ppc

2004-03-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* ext/ffmpeg/gstffmpegcolorspace.c: (gst_ffmpegcsp_get_type):
          fix name of static to be in line with code

2004-03-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac:
          don't set ACLOCAL_FLAGS !
	* gst-libs/ext/ffmpeg/.cvsignore:
	* gst-libs/ext/ffmpeg/patches/cvsignore.patch:
          trying to add configure to be ignored

2004-03-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	reviewed by: <delete if not using a buddy>

	* gst-libs/ext/ffmpeg/.cvsignore:
	* gst-libs/ext/ffmpeg/patches/cvsignore.patch:

2004-03-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/m4/vorbis.m4:
	* gst-libs/ext/ffmpeg/patches/autotools.patch:
          adding vorbis.m4

2004-03-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/m4/ogg.m4:
	* gst-libs/ext/ffmpeg/patches/autotools.patch:
	* gst-libs/ext/ffmpeg/patches/no-imlib.patch:
          adding ogg.m4

2004-03-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/patches/autotools.patch:
	* gst-libs/ext/ffmpeg/.pc/no-imlib/configure.ac:
	* gst-libs/ext/ffmpeg/autogen.sh:
          fix aclocal invocation to include m4 dir
	* gst-libs/ext/ffmpeg/configure.ac:
          add line to fix maintainer mode with aclocal 

2004-03-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/m4/imlib.m4:
	* gst-libs/ext/ffmpeg/m4/sdl.m4:
	* gst-libs/ext/ffmpeg/m4/freetype2.m4:
	* gst-libs/ext/ffmpeg/patches/autotools.patch:
          fix underquotedness, add freetype2.m4

2004-03-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/patches/autotools.patch:
          put in sdl.m4 and imlib.m4

2004-03-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/.pc/autotools/.pc:
	* gst-libs/ext/ffmpeg/.pc/no-imlib/configure.ac:
	* gst-libs/ext/ffmpeg/.pc/noinst-programs/Makefile.am:
	* gst-libs/ext/ffmpeg/autogen.sh:
	* gst-libs/ext/ffmpeg/configure:
	* gst-libs/ext/ffmpeg/configure.ac:
	* gst-libs/ext/ffmpeg/doc/.cvsignore:
	* gst-libs/ext/ffmpeg/libavcodec/i386/.cvsignore:
	* gst-libs/ext/ffmpeg/patches/autotools.patch:
	* gst-libs/ext/ffmpeg/patches/no-imlib.patch:
          fixing Makefile.am omission in autotools patch
          fix noinst-programs.patch

2004-03-14  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps):
	* ext/ffmpeg/gstffmpegcodecmap.h:
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_chain),
	(gst_ffmpegdec_register):
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_add),
	(gst_ffmpegdemux_register):
	* ext/ffmpeg/gstffmpegenc.c: (gst_ffmpegenc_connect),
	(gst_ffmpegenc_register):
	* ext/ffmpeg/gstffmpegmux.c: (gst_ffmpegmux_register):
	  Add encode property to codec mapper, so we can get better-fitting
	  caps. Also use this everywhere. ;). Lastly, add some new codecIDs
	  to our list of recognized ones.

2004-03-12  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/.pc/applied-patches:
	* gst-libs/ext/ffmpeg/.pc/noinst-programs/.pc:
	* gst-libs/ext/ffmpeg/.pc/noinst-programs/Makefile.am:
	* gst-libs/ext/ffmpeg/Makefile.am:
	* gst-libs/ext/ffmpeg/patches/series:
	  add patch to not install programs

2004-03-12  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/.pc/no-imlib/configure.ac:
	* gst-libs/ext/ffmpeg/.pc/autotools/.pc:
	* gst-libs/ext/ffmpeg/autogen.sh:
	* gst-libs/ext/ffmpeg/configure.ac:
          added m4 dir to autotools patch to fix imlib and sdl warnings

2004-03-12  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-libs/ext/ffmpeg/.pc/no-imlib/configure.ac:
	* gst-libs/ext/ffmpeg/configure.ac:
	* gst-libs/ext/ffmpeg/patches/series:
          add patch to remove imlib completely

2004-03-11  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac: use new setup with mirrored cvs tree

2004-03-10  David Schleef  <ds@schleef.org>

	* gst-libs/ext/ffmpeg/patch/asm.diff:  Add a patch that
	decreases register usage.  (bug #136658)

2004-03-10  David Schleef  <ds@schleef.org>

	* configure.ac: bump gstreamer API number to 0.8

2004-03-09  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/Makefile.am:
	  Prevent more symbol conflicts...
	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_register):
	  Up priority/rank for MPEG-4 decoder. Reason is simple: it's well-
	  tested and by far outperforms xviddec/divxdec. They'll get some
	  other, slightly lower, rank.
	* gst-libs/ext/ffmpeg/patch/autotools.diff:
	  Tweaking...
	* gst-libs/ext/ffmpeg/patch/disableinstalllibs.diff:
	  Prevent more symbol conflicts. I changed this (to pass 'make
	  distcheck') in the one patch, so need to change it here too.
	* gst-libs/ext/ffmpeg/patch/disablemmx.diff:
	  Re-enable MMX. :).
	* gst-libs/ext/ffmpeg/patch/functions.diff:
	  Bla.

2004-03-09  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* configure.ac:
	  Patch properly. Update version.
	* gst-libs/ext/ffmpeg/Makefile.am:
	  Comment out patching - all handled by configure.
	* gst-libs/ext/ffmpeg/Tag:
	  Update version.
	* gst-libs/ext/ffmpeg/patch/autotools.diff:
	  Some small updates to improve compiling.
	* gst-libs/ext/ffmpeg/patch/functions.diff:
	  Update date.
	* gst-libs/ext/ffmpeg/patch/matroska.diff:
	  Newer patch - see ffmpeg-devel mailinglists.
	* gst-libs/ext/ffmpeg/patch/function.patch:
	  Remove old cruft.
	* gst-libs/ext/ffmpeg/patch/disabletools.diff:
	  Now handled by --disable-... in configure.

2004-03-07  David Schleef  <ds@schleef.org>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_codecid_to_caps):
	Add cinepak format.  (bug #136470)

2004-03-05  David Schleef  <ds@schleef.org>

	* configure.ac:  Call ffmpeg's configure with --disable-v4l,
	--disable-oss-audio, --disable-dv1394 (bug #127873)

2004-03-04  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_formatid_to_caps):
	  Fix quicktime type recognition in ffmpeg. We returned a bogus
	  caps, which caused ffdemux_quicktime to be chosen over qtdemux.
	  This fixes that.

2004-03-04  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* configure.ac:
	  Brackets cause autoconf errors. So remove them.
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_add):
	  Actually use the event/convert/query functions. D'oh.

2004-03-02  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* configure.ac:
	* gst-libs/ext/ffmpeg/Makefile.am:
	  Slightly change the way we set this up. Ugly, but now it works
	  again. This baby is looking for a proper fix.
	* gst-libs/ext/ffmpeg/Tag:
	  Apparently CVS and me disagree on the tag... Ohwell, CVS wins.
	* gst-libs/ext/ffmpeg/patch/autotools.diff:
	* gst-libs/ext/ffmpeg/patch/disableinstalllibs.diff:
	  Slight nag on a link between lavf/lavc in ffmpeg. Not really
	  important for us since the code is the same in the end, but this
	  is actually correct from a per-patch point-of-view...

2004-03-02  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* gst-libs/ext/ffmpeg/Makefile.am:
	  Fix patching.

2004-03-01  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* ext/ffmpeg/gstffmpegdec.c: (gst_ffmpegdec_connect):
	  Fix B-frame DivX5/XviD display by removing the truncated flag when
	  not needed.
	* gst-libs/ext/ffmpeg/patch/autotools.diff:
	  Remove link to libavcodec - it causes symbol conflicts (why?).

2004-02-29  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* HACKING:
	  Add some basic documentation on how our wrapping works.
	* TODO:
	  Add a list of things that could be worked on or that need doing.
	* configure.ac:
	  Update snapshot.
	* ext/ffmpeg/Makefile.am:
	  Changne .la links. See below (autotools patch).
	* ext/ffmpeg/gstffmpeg.c: (plugin_init):
	  Enable demuxers. See below (gstffmpegdemux.c).
	* ext/ffmpeg/gstffmpegcodecmap.c: (gst_ffmpeg_formatid_to_caps):
	  Realmedia caused a crash - fix that.
	* ext/ffmpeg/gstffmpegdemux.c: (gst_ffmpegdemux_averror),
	(gst_ffmpegdemux_base_init), (gst_ffmpegdemux_init),
	(gst_ffmpegdemux_close), (gst_ffmpegdemux_dispose),
	(gst_ffmpegdemux_stream_from_pad),
	(gst_ffmpegdemux_src_event_mask), (gst_ffmpegdemux_src_event),
	(gst_ffmpegdemux_src_format_list),
	(gst_ffmpegdemux_src_query_list), (gst_ffmpegdemux_src_query),
	(gst_ffmpegdemux_src_convert), (gst_ffmpegdemux_add),
	(gst_ffmpegdemux_open), (gst_ffmpegdemux_loop),
	(gst_ffmpegdemux_change_state), (gst_ffmpegdemux_register):
	  Right. OK, so I fixed up the demuxing and have it basically-working,
	  and the best way to get some more people to test it is to actually
	  enable it. I'm not sure if we want this for 0.8.0, but we can at
	  least give it a try. I've tested avi, matroska and mpeg, all appear
	  to work. The cool thing is that this gives us instant support for
	  several exotic formats that we'd never care about ourselves. Again,
	  this needs more testing for it to still be enabled in 0.8.0, but I
	  want to give it a try...
	* ext/ffmpeg/gstffmpegmux.c: (gst_ffmpegmux_base_init),
	(gst_ffmpegmux_init), (gst_ffmpegmux_request_new_pad),
	(gst_ffmpegmux_connect), (gst_ffmpegmux_loop),
	(gst_ffmpegmux_register):
	  Add some fixups that I use locally. Make it work in the case of
	  MPEG encoding, but the muxer is still not in shape to be enabled.
	* ext/ffmpeg/gstffmpegprotocol.c: (gst_ffmpegdata_open),
	(gst_ffmpegdata_read), (gst_ffmpegdata_write),
	(gst_ffmpegdata_seek), (gst_ffmpegdata_close):
	  Some small fixups that crept into it while it was disabled for the
	  last few years. Basically works.
	* gst-libs/ext/ffmpeg/Makefile.am:
	  Instead of having our local-autotoolized version, I patch the ffmpeg
	  source to be fully autotoolized. That means a simple SUBDIRS here
	  is now enough.
	* gst-libs/ext/ffmpeg/Tag:
	  Version update.
	* gst-libs/ext/ffmpeg/patch/autotools.diff:
	  Autotoolize ffmpeg. Needs to be sent to ffmpeg-devel@...
	* gst-libs/ext/ffmpeg/patch/disableinstalllibs.diff:
	  Don't install their libs.
	* gst-libs/ext/ffmpeg/patch/disablemmx.diff:
	  Don't use MMX. It cannot ocmpile using PIC.
	* gst-libs/ext/ffmpeg/patch/disabletools.diff:
	  Don't compile/install their tools, we don't use them.
	* gst-libs/ext/ffmpeg/patch/functions.diff:
	  Prevent symbol conflicts.
	* gst-libs/ext/ffmpeg/patch/matroska.diff:
	  Add a matroska demuxer. Needs to be sent to ffmpeg-devel@...

2004-02-26  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac: releasing 0.7.1 "True Colors"

2004-02-14  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gst-ffmpeg.spec.in: fix spec file

2004-02-14 Christian Schaller <Uraeus@gnome.org>

	* gst-ffmpeg.spec.in: add spec file

2004-02-13  Thomas Vander Stichele  <thomas at apestaart dot org>

	* creation


